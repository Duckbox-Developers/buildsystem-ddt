# ------------------------------------------ #
# --- VU DUO2 Internal Display (400x240) --- #
# ------------------------------------------ #

Display VUPLUS4K_standard {
	driver		'vuduo2'
	port		'/dev/lcd2'
	bpp		'16'
	font		'20x32'
	size		'400x240'
	basecolor	'000000'
	foreground	'ffffff'
	background	'00000000'
	backlight	file::readline('/tmp/lcd/brightness', 1)
}

Display VUPLUS4K_user01 {
	driver		'vuduo2'
	port		'/dev/lcd2'
	bpp		'16'
	font		'20x32'
	size		'400x240'
	basecolor	'000000'
	foreground	'ffffff'
	background	'00000000'
	backlight	file::readline('/tmp/lcd/brightness', 1)
}

Display VUPLUS4K_user02 {
	driver		'vuduo2'
	port		'/dev/lcd2'
	bpp		'16'
	font		'20x32'
	size		'400x240'
	basecolor	'000000'
	foreground	'ffffff'
	background	'00000000'
	backlight	file::readline('/tmp/lcd/brightness', 1)
}

Display VUPLUS4K_user03 {
	driver		'vuduo2'
	port		'/dev/lcd2'
	bpp		'16'
	font		'20x32'
	size		'400x240'
	basecolor	'000000'
	foreground	'ffffff'
	background	'00000000'
	backlight	file::readline('/tmp/lcd/brightness', 1)
}

Display VUPLUS4K_user04 {
	driver		'vuduo2'
	port		'/dev/lcd2'
	bpp		'16'
	font		'20x32'
	size		'400x240'
	basecolor	'000000'
	foreground	'ffffff'
	background	'00000000'
	backlight	file::readline('/tmp/lcd/brightness', 1)
}

Display VUPLUS4K_radio {
	driver		'vuduo2'
	port		'/dev/lcd2'
	bpp		'16'
	font		'20x32'
	size		'400x240'
	basecolor	'000000'
	foreground	'ffffff'
	background	'00000000'
	backlight	file::readline('/tmp/lcd/brightness', 1)
}

Display VUPLUS4K_standby {
	driver		'vuduo2'
	port		'/dev/lcd2'
	bpp		'16'
	font		'20x32'
	size		'400x240'
	basecolor	'000000'
	foreground	'ffffff'
	background	'00000000'
	backlight	file::readline('/tmp/lcd/brightness_standby', 1)
}

# --------------------------------------------------------------------------- #

# --- general widgets (partly postfixed with _layout) --- #

Widget VUPLUS4K_LOGO {
	class		'Image'
	file		file::readline('/tmp/lcd/logo', 1)
	update		5000
	reload		1
	center		1
	inverted	0
	scale		35
}

Widget VUPLUS4K_LOGO_user02 {
	class		'Image'
	file		file::readline('/tmp/lcd/logo', 1)
	update		5000
	reload		1
	center		1
	inverted	0
	scale		100
}

Widget VUPLUS4K_SERVICE {
	class		'Text'
	expression	file::readline('/tmp/lcd/service', 1)
	align		'PC'
	width		20
	update		250
	speed		325
}

Widget VUPLUS4K_EVENT {
	class		'Text'
	expression	file::readline('/tmp/lcd/event', 1)
	align		'PC'
	width		20
	update		250
	speed		325
}

Widget VUPLUS4K_EVENT_user01 {
	class		'Text'
	expression	file::readline('/tmp/lcd/event', 1)
	align		'PC'
	width		16
	update		250
	speed		325
}

Widget VUPLUS4K_EVENT_user02 {
	class		'Text'
	expression	file::readline('/tmp/lcd/event', 1)
	align		'PC'
	width		32
	update		250
	speed		325
}

Widget VUPLUS4K_EVENT_user03 {
	class		'Text'
	expression	file::readline('/tmp/lcd/event', 1)
	align		'PC'
	width		20
	update		250
	speed		325
}

Widget VUPLUS4K_EVENT_user04 {
	class		'Text'
	expression	file::readline('/tmp/lcd/event', 1)
	align		'PC'
	width		20
	update		250
	speed		325
}

Widget VUPLUS4K_PROGRESS {
	class		'Bar'
	expression	0
	expression2	file::readline('/tmp/lcd/progress', 1)
	min		0
	max		100
	length		20
	update		2600
	foreground	'0000ff'
	barcolor0	'00000000'
}

Widget VUPLUS4K_PROGRESS_user01 {
	class		'Bar'
	expression	0
	expression2	file::readline('/tmp/lcd/progress', 1)
	min		0
	max		100
	length		20
	update		2600
	foreground	'0000ff'
	barcolor0	'00000000'
}

Widget VUPLUS4K_PROGRESS_user02 {
	class		'Bar'
	expression	0
	expression2	file::readline('/tmp/lcd/progress', 1)
	min		0
	max		100
	length		20
	update		2600
	foreground	'0000ff'
	barcolor0	'00000000'
}

Widget VUPLUS4K_PROGRESS_user03 {
	class		'Bar'
	expression	0
	expression2	file::readline('/tmp/lcd/progress', 1)
	min		0
	max		100
	length		20
	update		2600
	foreground	'0000ff'
	barcolor0	'00000000'
}

Widget VUPLUS4K_PROGRESS_user04 {
	class		'Bar'
	expression	0
	expression2	file::readline('/tmp/lcd/progress', 1)
	min		0
	max		100
	length		20
	update		2600
	foreground	'0000ff'
	barcolor0	'00000000'
}

Widget VUPLUS4K_DURATION {
	class 'Text'
	expression	file::readline('/tmp/lcd/duration', 1)
	align		'R'
#	width		10
	update		500
}

Widget VUPLUS4K_DURATION_user01 {
	class 'Text'
	expression	file::readline('/tmp/lcd/duration', 1)
	align		'R'
	width		20
	update		500
}

Widget VUPLUS4K_DURATION_user02 {
	class 'Text'
	expression	file::readline('/tmp/lcd/duration', 1)
	align		'R'
	width		20
	update		500
}

Widget VUPLUS4K_DURATION_user03 {
	class 'Text'
	expression	file::readline('/tmp/lcd/duration', 1)
	align		'R'
	width		20
	update		500
}

Widget VUPLUS4K_DURATION_user04 {
	class 'Text'
	expression	file::readline('/tmp/lcd/duration', 1)
	align		'R'
	width		20
	update		500
}

Widget VUPLUS4K_VOLUME {
	class		'Bar'
	expression	file::readline('/tmp/lcd/volume', 1)
	expression2	0
	min		0
	max		100
	length		10
	update		1000
	barcolor1	'00000000'
}

Widget VUPLUS4K_VOLUME_user01 {
	class		'Bar'
	expression	file::readline('/tmp/lcd/volume', 1)
	expression2	0
	min		0
	max		100
	length		10
	update		1000
	barcolor1	'00000000'
}

Widget VUPLUS4K_VOLUME_user02 {
	class		'Bar'
	expression	file::readline('/tmp/lcd/volume', 1)
	expression2	0
	min		0
	max		100
	length		10
	update		1000
	barcolor1	'00000000'
}

Widget VUPLUS4K_VOLUME_user03 {
	class		'Bar'
	expression	file::readline('/tmp/lcd/volume', 1)
	expression2	0
	min		0
	max		100
	length		10
	update		1000
	barcolor1	'00000000'
}

Widget VUPLUS4K_VOLUME_user04 {
	class		'Bar'
	expression	file::readline('/tmp/lcd/volume', 1)
	expression2	0
	min		0
	max		100
	length		10
	update		1000
	barcolor1	'00000000'
}

Widget VUPLUS4K_TIME {
	class		'Text'
	expression	strftime('%H:%M', time())
	align		'L'
#	width		20
	update		5000
}

Widget VUPLUS4K_TIME_user01 {
	class		'Text'
	expression	strftime('%H:%M', time())
	align		'L'
	width		20
	update		5000
}

Widget VUPLUS4K_TIME_user02 {
	class		'Text'
	expression	strftime('%H:%M', time())
	align		'L'
	width		20
	update		5000
}

Widget VUPLUS4K_TIME_user03 {
	class		'Text'
	expression	strftime('%H:%M', time())
	align		'L'
	width		20
	update		5000
}

Widget VUPLUS4K_TIME_user04 {
	class		'Text'
	expression	strftime('%H:%M', time())
	align		'L'
	width		20
	update		5000
}

# --- system-info --- #

Widget VUPLUS4K_CPU {
	class		'Text'
	prefix		'CPU: '
	expression	proc_stat::cpu('busy', 500)
	postfix		'%'
	precision	1
	align		'R'
	width		11
	update		1000
	foreground	'808080'
}

Widget VUPLUS4K_CPU_BAR {
	class		'Bar'
	expression	proc_stat::cpu('busy', 500)
	min		0
	max		100
	length		17
	style		'H'
	update		500
	foreground	'808080'
}

Widget VUPLUS4K_RAM {
	class		'Text'
	prefix		'RAM: '
	expression	100 - ((meminfo('MemFree') * 100) / meminfo('MemTotal'))
	postfix		'%'
	precision	1
	align		'R'
	width		11
	update		1000
	foreground	'808080'
}

Widget VUPLUS4K_MTD {
	class		'Text'
	prefix		'MTD: '
	expression	100 - (statfs('/', 'bfree') * 100) / statfs('/', 'blocks')
	postfix		'%'
	precision	1
	align		'R'
	width		11
	update		1000
	foreground	'808080'
}

# --- the clocks for standby-mode --- #
# --- the digital clock --- #

Widget VUPLUS4K_HOUR1_ {
	class		'image'
	file		file::exist(FCLOCK) == 1 ? ICONS . 'blank.png' : ICONS . 'clock/digital/' . substr(strftime('%H', time()), 0, 1) . '.png'
	update		10000
	reload		1
	scale		117
}

Widget VUPLUS4K_HOUR_1 {
	class		'image'
	file		file::exist(FCLOCK) == 1 ? ICONS . 'blank.png' : ICONS . 'clock/digital/' . substr(strftime('%H', time()), 1) . '.png'
	update		10000
	reload		1
	scale		117
}

Widget VUPLUS4K_DP {
	class		'Image'
	file		file::exist(FCLOCK) == 1 ? ICONS . 'blank.png' : ICONS . 'clock/digital/dp.png'
	update		0
	scale		117
}

Widget VUPLUS4K_MIN1_ {
	class		'image'
	file		file::exist(FCLOCK) == 1 ? ICONS . 'blank.png' : ICONS . 'clock/digital/' . substr(strftime('%M', time()), 0, 1) . '.png'
	update		10000
	reload		1
	scale		117
}

Widget VUPLUS4K_MIN_1 {
	class		'image'
	file		file::exist(FCLOCK) == 1 ? ICONS . 'blank.png' : ICONS . 'clock/digital/' . substr(strftime('%M', time()), 1) . '.png'
	update		10000
	reload		1
	scale		117
}

# --- the analog clock --- #

Widget VUPLUS4K_DIAL_A {
	class		'image'
	file		file::exist(FCLOCK) == 0 ? ICONS . 'blank.png' : ICONS . 'clock/analog/dial.png'
	update		0
	scale		210
}

Widget VUPLUS4K_HOUR_A {
	class		'image'
	file		file::exist(FCLOCK) == 0 ? ICONS . 'blank.png' : ICONS . 'clock/analog/h' . ( ( (strftime('%I', time()) == 12 ? 0 : strftime('%I', time())) *5) + substr((strftime('%M', time()) / 12), 0, 1) ). '.png'
	update		10000
	reload		1
	scale		200
}

Widget VUPLUS4K_MIN_A {
	class		'image'
	file		file::exist(FCLOCK) == 0 ? ICONS . 'blank.png' : ICONS . 'clock/analog/m' . strftime('%M', time()) . '.png'
	update		10000
	reload		2
	scale		200
}

# --------------------------------------------------------------------------- #

Layout VUPLUS4K_standard {
	layer 0 {
		row04.col01	'VUPLUS4K_SERVICE'
		row05.col01	'VUPLUS4K_EVENT'
		row06.col01	'VUPLUS4K_PROGRESS'
		row07 {
			col01	'VUPLUS4K_TIME'
			col11	'VUPLUS4K_DURATION'
		}
	}
	layer 1 {
		x001.y001	'VUPLUS4K_LOGO'
	}
}

Layout VUPLUS4K_user01 {
	layer 0 {
		row02.col01	'VUPLUS4K_SERVICE'
		row04.col01	'VUPLUS4K_EVENT'
		row05.col01	'VUPLUS4K_PROGRESS'
		row07 {
			col01	'VUPLUS4K_TIME'
			col11	'VUPLUS4K_DURATION'
		}
	}
}

Layout VUPLUS4K_user02 {
	layer 0 {
		x001.y001	'VUPLUS4K_LOGO_user02'
	}
}

Layout VUPLUS4K_user03 {
	layer 0 {
		row01.col04	'VUPLUS4K_PROGRESS_user03'
		row03.col01	'VUPLUS4K_EVENT_user03'
		row05 {
			col04	'VUPLUS4K_VOLUME_user03'
			col15	'VUPLUS4K_TIME_user03'
		}
	}
}

Layout VUPLUS4K_user04 {
	layer 0 {
		row02.col01	'VUPLUS4K_EVENT'
		row03.col02	'VUPLUS4K_PROGRESS'
		row05 {
			col07	'VUPLUS4K_DURATION'
			col02	'VUPLUS4K_TIME'
		}
	}
}

Layout VUPLUS4K_radio {
	layer 0 {
		row04.col01	'VUPLUS4K_SERVICE'
		row05.col01	'VUPLUS4K_EVENT'
		row06.col01	'VUPLUS4K_PROGRESS'
		row07 {
			col01	'VUPLUS4K_TIME'
			col11	'VUPLUS4K_DURATION'
		}
	}
	layer 1 {
		x001.y001	'VUPLUS4K_LOGO'
	}
}

Layout VUPLUS4K_standby {
	layer 0 {
		x010.y090	'VUPLUS4K_MIN_A'

		X074.Y010	'VUPLUS4K_HOUR1_'
		X074.Y080	'VUPLUS4K_HOUR_1'
		X074.Y143	'VUPLUS4K_DP'
		X074.Y170	'VUPLUS4K_MIN1_'
		X074.Y240	'VUPLUS4K_MIN_1'
	}
	layer 1 {
		x010.y090	'VUPLUS4K_HOUR_A'
	}
	layer 2 {
		x001.y82	'VUPLUS4K_DIAL_A'
	}
}

# ------------------------ #
# --- General Settings --- #
# ------------------------ #

Variables {
	ICONS		'/var/tuxbox/lcd/icons/'
	SYSICONS	'/usr/share/tuxbox/neutrino/icons/'
	FCLOCK		'/var/etc/.lcd-clock_a'
}

Display		file::readline('/tmp/lcd/layout', 1)
Layout		file::readline('/tmp/lcd/layout', 1)
